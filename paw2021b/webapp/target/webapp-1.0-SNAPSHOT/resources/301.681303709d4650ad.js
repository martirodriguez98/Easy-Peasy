"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[301],{5301:(K,l,i)=>{i.r(l),i.d(l,{RegisterModule:()=>k});var u=i(6019),p=i(4303),o=i(9133),e=i(2383),f=i(3202),x=i(5250),h=i(3173),d=i(7294);const a=function(t){return{min:t}};function _(t,r){if(1&t&&(e.TgZ(0,"span",21),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&t){const n=e.oxw(2);e.xp6(1),e.hij(" ",e.xi3(2,1,"Size.registerForm.username.min",e.VKq(4,a,n.minUsernameLength))," ")}}function Z(t,r){1&t&&(e.TgZ(0,"span",21),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&t&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"login.invalidFeedback.username")," "))}const g=function(t){return{max:t}};function A(t,r){if(1&t&&(e.TgZ(0,"span",21),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&t){const n=e.oxw(2);e.xp6(1),e.hij(" ",e.xi3(2,1,"Size.registerForm.username.max",e.VKq(4,g,n.maxUsernameLength))," ")}}function b(t,r){if(1&t&&(e.TgZ(0,"span"),e.YNc(1,_,3,6,"span",15),e.YNc(2,Z,3,3,"span",15),e.YNc(3,A,3,6,"span",15),e.qZA()),2&t){const n=e.oxw();e.xp6(1),e.Q6J("ngIf",n.registerForm.get("username").errors.minlength),e.xp6(1),e.Q6J("ngIf",n.registerForm.get("username").errors.required),e.xp6(1),e.Q6J("ngIf",n.registerForm.get("username").errors.maxlength)}}const c=function(t,r){return{min:t,max:r}};function T(t,r){if(1&t&&(e.TgZ(0,"span",21),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&t){const n=e.oxw(2);e.xp6(1),e.hij(" ",e.xi3(2,1,"Size.registerForm.email",e.WLB(4,c,n.minEmailLength,n.maxEmailLength))," ")}}function v(t,r){if(1&t&&(e.TgZ(0,"span",21),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&t){const n=e.oxw(2);e.xp6(1),e.hij(" ",e.xi3(2,1,"Size.registerForm.email.min",e.VKq(4,a,n.minEmailLength))," ")}}function C(t,r){if(1&t&&(e.TgZ(0,"span",21),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&t){const n=e.oxw(2);e.xp6(1),e.hij(" ",e.xi3(2,1,"Size.registerForm.email.max",e.VKq(4,g,n.maxEmailLength))," ")}}function L(t,r){1&t&&(e.TgZ(0,"span",21),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&t&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"Email.registerForm.email")," "))}function w(t,r){if(1&t&&(e.TgZ(0,"span"),e.YNc(1,T,3,7,"span",15),e.YNc(2,v,3,6,"span",15),e.YNc(3,C,3,6,"span",15),e.YNc(4,L,3,3,"span",15),e.qZA()),2&t){const n=e.oxw();e.xp6(1),e.Q6J("ngIf",n.registerForm.get("email").errors.required),e.xp6(1),e.Q6J("ngIf",n.registerForm.get("email").errors.minlength),e.xp6(1),e.Q6J("ngIf",n.registerForm.get("email").errors.maxlength),e.xp6(1),e.Q6J("ngIf",n.registerForm.get("email").errors.valid)}}function P(t,r){1&t&&(e.TgZ(0,"span",21),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&t&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"Email.duplicateEmail")," "))}function q(t,r){if(1&t&&(e.TgZ(0,"span",21),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&t){const n=e.oxw(2);e.xp6(1),e.hij(" ",e.xi3(2,1,"Size.registerForm.password",e.WLB(4,c,n.minPassLength,n.maxPassLength))," ")}}function F(t,r){if(1&t&&(e.TgZ(0,"span",21),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&t){const n=e.oxw(2);e.xp6(1),e.hij(" ",e.xi3(2,1,"Size.registerForm.password.max",e.VKq(4,g,n.maxPassLength))," ")}}function I(t,r){if(1&t&&(e.TgZ(0,"span",21),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&t){const n=e.oxw(2);e.xp6(1),e.hij(" ",e.xi3(2,1,"Size.registerForm.password.min",e.VKq(4,a,n.minPassLength))," ")}}function M(t,r){if(1&t&&(e.TgZ(0,"span"),e.YNc(1,q,3,7,"span",15),e.YNc(2,F,3,6,"span",15),e.YNc(3,I,3,6,"span",15),e.qZA()),2&t){const n=e.oxw();e.xp6(1),e.Q6J("ngIf",n.registerForm.get("password").errors.required),e.xp6(1),e.Q6J("ngIf",n.registerForm.get("password").errors.maxlength),e.xp6(1),e.Q6J("ngIf",n.registerForm.get("password").errors.minlength)}}function O(t,r){if(1&t&&(e.TgZ(0,"span",21),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&t){const n=e.oxw(2);e.xp6(1),e.hij(" ",e.xi3(2,1,"Size.registerForm.password",e.WLB(4,c,n.minPassLength,n.maxPassLength))," ")}}function R(t,r){if(1&t&&(e.TgZ(0,"span",21),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&t){const n=e.oxw(2);e.xp6(1),e.hij(" ",e.xi3(2,1,"Size.registerForm.password.max",e.VKq(4,g,n.maxPassLength))," ")}}function U(t,r){if(1&t&&(e.TgZ(0,"span",21),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&t){const n=e.oxw(2);e.xp6(1),e.hij(" ",e.xi3(2,1,"Size.registerForm.password.min",e.VKq(4,a,n.minPassLength))," ")}}function J(t,r){1&t&&(e.TgZ(0,"span",21),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&t&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"validation.user.passwordsDontMatch")," "))}function N(t,r){if(1&t&&(e.TgZ(0,"span"),e.YNc(1,O,3,7,"span",15),e.YNc(2,R,3,6,"span",15),e.YNc(3,U,3,6,"span",15),e.YNc(4,J,3,3,"span",15),e.qZA()),2&t){const n=e.oxw();e.xp6(1),e.Q6J("ngIf",n.registerForm.get("repeatPass").errors.required),e.xp6(1),e.Q6J("ngIf",n.registerForm.get("repeatPass").errors.maxlength),e.xp6(1),e.Q6J("ngIf",n.registerForm.get("repeatPass").errors.minlength),e.xp6(1),e.Q6J("ngIf",n.registerForm.get("repeatPass").errors.passwordsDontMatch)}}function j(t,r){1&t&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&t&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"navBar.register")," "))}const y=[{path:"",component:(()=>{class t{constructor(n,s,m,E){this.authService=n,this.userService=s,this.router=m,this.previousRouteService=E,this.error=!1,this.disable=!1,this.minPassLength=6,this.maxPassLength=30,this.minEmailLength=6,this.maxEmailLength=254,this.minUsernameLength=2,this.maxUsernameLength=30}ngOnInit(){this.registerForm=new o.cw({username:new o.NI(null,[o.kI.required,o.kI.minLength(this.minUsernameLength),o.kI.maxLength(this.maxUsernameLength),o.kI.pattern("[a-zA-Z0-9_]+")]),email:new o.NI(null,[o.kI.required,o.kI.maxLength(this.maxEmailLength),o.kI.minLength(this.minEmailLength),o.kI.pattern("^([a-zA-Z0-9+_.-]+@[a-zA-Z0-9.-]+)*$")]),password:new o.NI(null,[o.kI.required,o.kI.minLength(this.minPassLength),o.kI.maxLength(this.maxPassLength)]),repeatPass:new o.NI(null,[o.kI.required,o.kI.minLength(this.minPassLength),o.kI.maxLength(this.maxPassLength)])}),this.registerForm.setValidators(this.passwordMatching.bind(this))}onSubmit(){if(this.disable=!0,!this.registerForm.valid)return this.registerForm.markAllAsTouched(),void(this.disable=!1);const n={username:this.registerForm.value.username,email:this.registerForm.value.email,password:this.registerForm.value.password};this.authService.register(n).subscribe(()=>{this.authService.login(n.username,n.password).subscribe(()=>{this.userService.fillUserData().subscribe(()=>{this.disable=!1,this.router.navigate(["/profile"])})},()=>{this.disable=!1})},()=>{this.disable=!1,this.error=!0,setTimeout(()=>{this.error=!1},4e3)})}passwordMatching(n){const s=n.controls.repeatPass;s.setErrors(n.controls.password.value!=s.value?{passwordsDontMatch:!0}:null)}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(f.$),e.Y36(x.K),e.Y36(p.F0),e.Y36(h._))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-register"]],decls:43,vars:24,consts:[[1,"container-fluid","p-0","bg"],[1,"container-fluid"],[1,"container-lg","p-5","content-container"],[1,"row","w-50","m-0","align-items-center","justify-content-center","register-container"],[1,"col-12"],[1,"text-center","title"],[1,"container-fluid","px-0"],[2,"margin-bottom","0",3,"formGroup","ngSubmit"],[1,"row"],[1,"col-12","align-items-center","justify-content-center"],[1,"form-label"],[1,"input-group","justify-content-start","align-items-center"],["formControlName","username","type","text",1,"form-control"],[4,"ngIf"],["formControlName","email","type","email",1,"form-control"],["class","formError",4,"ngIf"],["formControlName","password","type","password","autocomplete","on",1,"form-control"],["formControlName","repeatPass","type","password","aria-describedby","password input","autocomplete","on",1,"form-control"],[1,"col-12","px-0","d-flex","align-items-center","justify-content-center"],[1,"w-100","btn","btn-outline-dark","reg-btn",3,"disabled"],[1,"spinner-border","spinner-border-sm",3,"hidden"],[1,"formError"]],template:function(n,s){1&n&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"div",3),e.TgZ(4,"div",4),e.TgZ(5,"h2",5),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.qZA(),e.TgZ(8,"div",4),e.TgZ(9,"div",6),e.TgZ(10,"form",7),e.NdJ("ngSubmit",function(){return s.onSubmit()}),e.TgZ(11,"div",8),e.TgZ(12,"div",9),e.TgZ(13,"label",10),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"div",11),e.TgZ(17,"div",4),e._UZ(18,"input",12),e.YNc(19,b,4,3,"span",13),e.qZA(),e.TgZ(20,"div",4),e.TgZ(21,"label",10),e._uU(22),e.ALo(23,"translate"),e.qZA(),e._UZ(24,"input",14),e.YNc(25,w,5,4,"span",13),e.YNc(26,P,3,3,"span",15),e.qZA(),e.TgZ(27,"div",4),e.TgZ(28,"label",10),e._uU(29),e.ALo(30,"translate"),e.qZA(),e._UZ(31,"input",16),e.YNc(32,M,4,3,"span",13),e.qZA(),e.TgZ(33,"div",4),e.TgZ(34,"label",10),e._uU(35),e.ALo(36,"translate"),e.qZA(),e._UZ(37,"input",17),e.YNc(38,N,5,4,"span",13),e.qZA(),e.TgZ(39,"div",18),e.TgZ(40,"button",19),e.YNc(41,j,3,3,"span",13),e._UZ(42,"span",20),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&n&&(e.xp6(6),e.Oqu(e.lcZ(7,14,"register.create")),e.xp6(4),e.Q6J("formGroup",s.registerForm),e.xp6(4),e.Oqu(e.lcZ(15,16,"register.form.username")),e.xp6(5),e.Q6J("ngIf",!s.registerForm.get("username").valid&&s.registerForm.get("username").touched),e.xp6(3),e.Oqu(e.lcZ(23,18,"register.form.email")),e.xp6(3),e.Q6J("ngIf",!s.registerForm.get("email").valid&&s.registerForm.get("email").touched),e.xp6(1),e.Q6J("ngIf",s.error),e.xp6(3),e.Oqu(e.lcZ(30,20,"register.form.password")),e.xp6(3),e.Q6J("ngIf",!s.registerForm.get("password").valid&&s.registerForm.get("password").touched),e.xp6(3),e.Oqu(e.lcZ(36,22,"register.form.repeatPswd")),e.xp6(3),e.Q6J("ngIf",!s.registerForm.get("repeatPass").valid&&s.registerForm.get("repeatPass").touched),e.xp6(2),e.Q6J("disabled",s.disable),e.xp6(1),e.Q6J("ngIf",!s.disable),e.xp6(1),e.Q6J("hidden",!s.disable))},directives:[o._Y,o.JL,o.sg,o.Fj,o.JJ,o.u,u.O5],pipes:[d.X$],styles:[".register-text[_ngcontent-%COMP%]{text-align:center!important;padding:2%}#loading[_ngcontent-%COMP%]{display:none;align-content:center}.register-container[_ngcontent-%COMP%]{font-size:medium;background:whitesmoke;display:block;justify-content:center;margin:0 auto;width:70%;border-radius:10px;padding-right:30px;padding-left:30px}.content-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.form-control[_ngcontent-%COMP%]{width:100%}.form-group[_ngcontent-%COMP%]{padding-bottom:15px}.reg-btn[_ngcontent-%COMP%]{margin-bottom:20px;margin-top:20px;width:40%!important}.reg-btn[_ngcontent-%COMP%]:hover, .reg-btn[_ngcontent-%COMP%]:focus, .reg-btn[_ngcontent-%COMP%]:active{background-color:transparent!important;color:#93c021!important;border-color:#93c021!important}.reg-btn[_ngcontent-%COMP%]:focus, .reg-btn[_ngcontent-%COMP%]:active:focus{box-shadow:0 0 0 .25rem #93c02166!important}.title[_ngcontent-%COMP%]{margin-top:20px;font-size:large}.modal-body[_ngcontent-%COMP%]{align-content:center;justify-content:center}.input-group[_ngcontent-%COMP%] > .form-control[_ngcontent-%COMP%]:focus{border-color:#93c021!important;box-shadow:inset 0 1px 1px #00000013,0 0 8px transparent!important}.form-control[_ngcontent-%COMP%]:active, .form-control[_ngcontent-%COMP%]:focus{border-color:#93c021!important;box-shadow:inset 0 1px 1px #00000013,0 0 8px transparent!important}.formError[_ngcontent-%COMP%]{color:#dc3545;font-size:.875em}.br-rad[_ngcontent-%COMP%]{border-radius:4px}.form-control.is-invalid[_ngcontent-%COMP%], .form-control[_ngcontent-%COMP%]:invalid:hover{background-image:none!important;box-shadow:inset 0 1px 1px #00000013,0 0 8px transparent!important}.btn-notfound[_ngcontent-%COMP%]{background-color:#93c021;color:#fff;border-color:#93c021}.btn-notfound[_ngcontent-%COMP%]:hover, .btn-notfound[_ngcontent-%COMP%]:focus, .btn-notfound[_ngcontent-%COMP%]:active{background-color:transparent!important;color:#93c021!important;border-color:#93c021!important}.btn-notfound[_ngcontent-%COMP%]:focus, .btn-notfound[_ngcontent-%COMP%]:active:focus{box-shadow:0 0 0 .25rem #93c02166!important}"]}),t})(),canActivate:[i(2943).a]}];let Q=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[p.Bz.forChild(y)],p.Bz]}),t})();var z=i(1382);let k=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[u.ez,Q,d.aw,o.UX,z.m]]}),t})()}}]);